-# as far as I can tell we can't pass content to the parent template while rendering ie: something like :
-# = render_parent do
-#   .something
-#     my content
-# Workarount is to copy the ModalComponent template
%div{ id: @id, "data-controller": @data_controller, "data-action": @data_action, "data-modal-instant-value": @instant, **@options }
  .reveal-modal-bg.fade{ "data-modal-target": "background", "data-action": "click->modal#close" }
  .reveal-modal.fade.modal-component{ "data-modal-target": "modal", class: @modal_class }
    #new-tag-rule-dialog{ "data-controller": "add-tag-rule-modal-component--add-tag-rule-modal", "data-action": "add-tag-rule-modal-component--add-tag-rule-modal:ruleAdded->tag-rule-index#added" }
      = hidden_field_tag "current_index", current_index, { "data-add-tag-rule-modal-component--add-tag-rule-modal-target": "index" }
      = hidden_field_tag "div_id", div_id, { "data-add-tag-rule-modal-component--add-tag-rule-modal-target": "divId" }
      = hidden_field_tag "is_default", is_default, { "data-add-tag-rule-modal-component--add-tag-rule-modal-target": "isDefault" }
      -# TODO the group-form stuff should be passed as a dependency
      = hidden_field_tag "customer_tag", customer_tag, { "data-add-tag-rule-modal-component--add-tag-rule-modal-target": "ruleCustomerTag", "data-tag-rule-group-form-component--tag-rule-group-form-target": "ruleCustomerTag" }
      .text-normal.margin-bottom-30.text-center
        = t('components.add_tag_rule_modal.select_rule_type')
      .text-center.margin-bottom-30
        = select_tag :rule_type_selector, options_for_select(tag_rule_types), { "data-controller": "tom-select", "data-add-tag-rule-modal-component--add-tag-rule-modal-target": "rule", class: "primary no-search" }
      .text-center
        %input.button.red.icon-plus{ type: 'button', value: "#{t('components.add_tag_rule_modal.add_rule')}", "data-action": "click->add-tag-rule-modal-component--add-tag-rule-modal#add click->modal#close", }

    - if close_button?
      .text-center
        %input{ class: "button icon-plus #{close_button_class}", type: 'button', value: t('js.admin.modals.close'), "data-action": "click->modal#close" }
